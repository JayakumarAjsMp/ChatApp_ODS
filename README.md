# ChatApp_ODS

In this Chat App Project we use two swift package dependencies, one is Simple Toast is used to show toast messages and another one is Activity Indicator View to show loaders in our app. Chat App folder has one app file and one preview Content folder.. Mock Response folder has all the files needed for mock data to write test cases for our app. Model folder has all the models we used for our app. Service folder has all the service files we need for our app. ViewModel folder has all business logic files for our project. View has all UI View for our app, like vive all other folders and finally ChatAppUnitTests folder has all test cases file. In ChatApp file is the app's entry point here we create objects for persistence controller alert observable, navigation observable and also for all viewmodels to be used, we inject these dependencies using EnvironmentObject for ContentViewâ€¦ In MockResponse Folder, . We have Mock API Service files and mock local JSON files for mock data. Model folder, has all model classes needed to form objects for the project. Message model has variables like toUser, message, fromUser and ect. User model has variables like username, password, name, avatar and ect. In Service folder we have all api service files, UserFetchAPIService is used to fetch users  from server using API Service Manager which URL Session to retrieve data from server and return user using APIServiceManager which URLSession to retrieve data from server and return user. Like vice, FriendFetchAPIService is used to fetch all users using APIServiceManager to retrieve data from server and return list of users. Like vice, MessagesFetchAPIService is used to fetch all messages using APIServiceManager to retrieve data from the server and return a list of messages for that user. Also MessagesStoreAPIService sends  messages using APIServiceMangar to store data to the server and return a list of messages for that user. ViewModel folder we have all api view model files, In UserViewModel, login method is used to retrieve user with username and password to login to app, store method is used to store user in core data database, fetchStoedUser is used to retrieve all stored user details and finally delete all stored user is used to delete all user from core data database. Like vice, in FriendsViewModel, getFriends method is used to retrieve all users from the server. Like vice, in MessagesViewModel, getMessages method is used to retrieve all messages from the server where messages are sent by User or to User, sendMessage is used to send and store messages from user to server. AlertObservable is used to show or hide loaders and show toast messages. NavigationObservable is used to navigate through screens. View folder has all the files needed to present to UI Screens, Content View is the main view and all UI elements are displayed and updated here, it check user is login or not if not login it present login view else present home view, here also activity indication is present to show loader and also simple toast to present toast messages in UI. Login View has to input fields for username and password and login button, while pressing login it calls api service to fetch users from the server for login, if successful then it navigates to the home screen. Home view, present list users and also navigate to chat view for that selected user. In Chat view, it will present list messages that are sent or received from that selected user, also view is scroll to last message,  in chat view below there is input field to send message for that selected user it sendmessage api using api service also retrieve messages after send. APIServiceManager is using URLSession to get and post data from or to the server. CONSTANT have all API URLs and Persistence has singleton objects for Core data database. ChatAppUnitTests has all test cases file that check for ViewModel and Core data storing using Mock API services, In UserViewModelTests, test login success method is used to test success full login, test login failed method is used to test login failed with password wrong or user not found in data, test bad response is used to test bad response from mock data, and finally test store fetch user core data is used to check store user into core data database and retrieve it back. In FriendsViewModelTests, test fetch friends success method is used to test success retrieval of all users, test bad response is used to test bad response from mock data, and finally test empty response is used to test empty response from mock data. In MessagesViewModelTests, test fetch messages success method is used to test success retrieval of all messages, test bad response is used to test bad response from mock data, test empty response is used to test empty response from mock data and finally test send message method is used to test write message to local JSON file. 
